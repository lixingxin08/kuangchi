webpackJsonp([11],{K31e:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{login_tips:"",login_tipstype:!1,logintype:!0,logindata:{username:"",password:"",email:"",phone:"",mode:"email",countryCode:"86",platformName:"wtcpool"}}},methods:{changge:function(t,e){this.logintype=t,this.logindata.email="",this.logindata.phone="",this.logindata.password="",this.login_tips="",this.logindata.mode=e,console.log(this.logindata.mode)},login:function(){var t=this;if(console.log(this.logindata),""==this.logindata.phone&&""==this.logindata.email)return this.logintype?alert("请输入邮箱地址"):alert("请输入手机号码");0==this.login_tipstype&&""!==this.logindata.password?this.$ajax("post",this.GLOBAL.baseUrl+"account/login",this.logindata,function(e){1038==JSON.parse(e).code&&alert("平台信息有误"),1039==JSON.parse(e).code&&alert("手机号未注册"),1040==JSON.parse(e).code&&alert("email未注册"),1041==JSON.parse(e).code&&alert("今日登陆错误次数超过限制"),1042==JSON.parse(e).code&&alert("登陆失败"),1043==JSON.parse(e).code&&(alert("密码错误"),t.logindata.password=""),1==JSON.parse(e).code&&(t.setCookie("token",JSON.parse(e).data.token,36e4),t.setCookie("username",JSON.parse(e).data.username,36e4),localStorage.setItem("token",JSON.parse(e).data.token),localStorage.setItem("isLogin",!0),localStorage.setItem("username",JSON.parse(e).data.username),t.$router.push({name:"home"}))},function(t){console.log(t)}):(console.log(33344443),""==this.logindata.password?alert("请输入密码"):(console.log(this.logintype,this.logindata.password,"aaaaa"),alert("请输入密码")))},verify:function(t){this.logintype?this.verEmail(t)?this.login_tipstype=!1:(this.login_tipstype=!0,this.login_tips="请输入正确邮箱地址"):this.IsPhone(t)?this.login_tipstype=!1:(this.login_tipstype=!0,this.login_tips="请输入正确手机号码")}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"login"},[a("div",{staticClass:"login_box"},[a("h5",{staticClass:"login_title"},[t._v("登录")]),t._v(" "),a("div",{staticClass:"flex_f login_head"},[a("span",{staticClass:"login_head_l",class:t.logintype?"login_head_bg":"",on:{click:function(e){return t.changge(!0,"email")}}},[t._v("邮箱")]),t._v(" "),a("span",{class:t.logintype?"":"login_head_bg",on:{click:function(e){return t.changge(!1,"phone")}}},[t._v("手机")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.logintype,expression:"logintype"}],staticClass:"login_email"},[a("div",{staticClass:"flex_b login_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.logindata.email,expression:"logindata.email"}],attrs:{type:"email",placeholder:"请输入邮箱地址"},domProps:{value:t.logindata.email},on:{blur:function(e){return t.verify(t.logindata.email)},input:function(e){e.target.composing||t.$set(t.logindata,"email",e.target.value)}}}),t._v(" "),t.login_tipstype?a("div",{staticClass:"login_tips"},[t._v(t._s(t.login_tips))]):t._e()]),t._v(" "),a("div",{staticClass:"flex_b login_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.logindata.password,expression:"logindata.password"}],attrs:{type:"password",autocomplete:"new-password",placeholder:"请输入密码"},domProps:{value:t.logindata.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()},input:function(e){e.target.composing||t.$set(t.logindata,"password",e.target.value)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.logintype,expression:"!logintype"}],staticClass:"login_tel"},[a("div",{staticClass:"flex_b login_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.logindata.phone,expression:"logindata.phone"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:t.logindata.phone},on:{blur:function(e){return t.verify(t.logindata.phone)},input:function(e){e.target.composing||t.$set(t.logindata,"phone",e.target.value)}}}),t._v(" "),t.login_tipstype?a("div",{staticClass:"login_tips"},[t._v(t._s(t.login_tips))]):t._e()]),t._v(" "),a("div",{staticClass:"flex_b login_item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.logindata.password,expression:"logindata.password"}],attrs:{type:"password",autocomplete:"new-password",placeholder:"请输入密码"},domProps:{value:t.logindata.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()},input:function(e){e.target.composing||t.$set(t.logindata,"password",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"submit",on:{click:function(e){return t.login()}}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"flex_b login_foo"},[a("router-link",{attrs:{to:"register"}},[a("span",{staticClass:"color1"},[t._v("注册新用户")])]),t._v(" "),a("router-link",{attrs:{to:"register"}},[a("span",{staticClass:"color1"},[t._v("忘记密码")])])],1),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login_img"},[e("img",{attrs:{src:a("qA5R"),alt:""}})])}]};var s=a("VU/8")(i,o,!1,function(t){a("V0ze")},"data-v-206772e8",null);e.default=s.exports},V0ze:function(t,e){},qA5R:function(t,e,a){t.exports=a.p+"static/img/login_img.a982a6d.png"}});
//# sourceMappingURL=11.9bdadcb78ceaf3422241.js.map