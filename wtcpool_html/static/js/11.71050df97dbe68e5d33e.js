webpackJsonp([11],{"+JEo":function(t,a){},kN1R:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("bOdI"),i=e.n(s),o=e("mvHQ"),n=e.n(o),l={components:{noson:e("RuO0").default},data:function(){return{recordtype:!0,recorddata:[],totalSize:[0],export_name:"",haverecord:!0,profit_params:{username:localStorage.getItem("username"),token:localStorage.getItem("token"),subusername:localStorage.getItem("subusername"),type:0,page:1,pageSize:10},profit_type:!0,profit_data:{needPayAndPayHistory:{waitPay:0,paidTotal:0},todayEarningsAndAllEarnings:{todatEarnings:0,allEarnings:0},subUserPayListInfo:{array:[{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"},{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"}],total:3,totalPage:1},subUserEarningsListInfo:{array:[{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"0",rewardType:1,status:1},{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"",rewardType:1,status:1}],total:4,totalPage:1}},profit_topdata:"",profit_top:[this.$t("m.myprofit.key3"),this.$t("m.myprofit.key4"),this.$t("m.myprofit.key1"),this.$t("m.myprofit.key2")],derive_item:[this.$t("m.myprofit.key17"),this.$t("m.myprofit.key21"),this.$t("m.myprofit.key22"),this.$t("m.myprofit.key17")],derive_top:"",tableData:"",noson_type:!1,list:[]}},created:function(){this.recorddata=[],this.profit_topdata=[],this.tableData="",this.list=[],null==localStorage.getItem("subnameList")||localStorage.getItem("subnameList")<1?this.$router.push({name:"unsub"}):(this.change_record(!0),this.getprofitdata())},methods:(r={change_record:function(t){this.recordtype=t,this.profit_params.page=1,console.log(this.profit_data,0x62afbde1181c700),0==this.profit_params.type&&(this.getprofitdata(),this.derive_top=this.$t("m.myprofit.key17")),0!==this.profit_params.type&&this.timeprofitdata(this.profit_params.type),console.log(this.profit_params.type),t?(this.export_name=this.$t("m.myprofit.key18"),this.recorddata=[this.$t("m.myprofit.key7"),this.$t("m.myprofit.key8"),this.$t("m.myprofit.key9"),this.$t("m.myprofit.key10"),this.$t("m.myprofit.key11")],this.$set(this.totalSize,0,this.profit_data.subUserEarningsListInfo.total)):t||(this.export_name=this.$t("m.myprofit.key19"),this.recorddata=[this.$t("m.myprofit.key12"),this.$t("m.myprofit.key13"),this.$t("m.myprofit.key14"),this.$t("m.myprofit.key15"),this.$t("m.myprofit.key16")],this.$set(this.totalSize,0,this.profit_data.subUserPayListInfo.total))},handleSizeChange:function(){},handleCurrentChange:function(){},getprofitdata:function(){var t=this;console.log(this.recordtype,0x3f28cb71571c7),this.$ajax("post",this.GLOBAL.baseUrl+"v2/earningsAndPayment",this.profit_params,function(a){var e=JSON.parse(a).accountInfo;t.profit_data=e,1==t.recordtype?(t.tableData=JSON.parse(n()(e.subUserEarningsListInfo.array)),t.$set(t.totalSize,0,t.profit_data.subUserEarningsListInfo.total),0==t.tableData.length?t.haverecord=!1:t.haverecord=!0,console.log(t.totalSize,99999999)):(t.tableData=JSON.parse(n()(e.subUserPayListInfo.array)),t.$set(t.totalSize,0,t.profit_data.subUserPayListInfo.total),0==t.tableData.length?t.haverecord=!1:t.haverecord=!0,console.log(t.totalSize,99999999)),0==t.profit_data.subUserEarningsListInfo.array.length&&0==t.profit_data.subUserPayListInfo.array.length&&(t.haverecord=!1)},function(a){t.$message.warning(t.$t("m.key")),t.$router.push({name:"home"})})},exportExcel:function(){var t=this,a=this;new Promise(function(t){t()}).then(function(){var r=e("zWO4").export_json_to_excel,s=t.recorddata,i=[],o=[];if(a.recordtype){i=["date","earningsMoney","dayHr","rewardType","status"],o=a.tableData;for(var n=0;n<o.length;n++)o[n].rewardType=2==o[n].rewardType?a.$t("m.account.key13"):"pplns",o[n].status=o[n].status>0?a.$t("m.account.key12"):a.$t("m.account.key11"),o[n].dayHr=a.changpow(o[n].dayHr,2)+"H/s"}else if(!a.recordtype){i=["payTime","settleTime","payMoney","toAddress","hash"],t.$set(a.list,0,a.profit_data.subUserPayListInfo.array),o=a.tableData;for(n=0;n<o.length;n++);}r(s,a.formatJson(i,o),"this_excel")}.bind(null,e)).catch(e.oe)}},i()(r,"handleSizeChange",function(t){this.profit_params.pageSize=t,this.getprofitdata()}),i()(r,"handleCurrentChange",function(t){this.profit_params.page=t,this.getprofitdata()}),i()(r,"timeprofitdata",function(t){var a=this;this.profit_params.type=t,this.derive_top=this.derive_item[t],a.recordtype&&this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportEarningsInfo",this.profit_params,function(e){if("1"==t){var r=JSON.parse(e).weekEarningsInfo;console.log(1112221),a.profit_data.subUserEarningsListInfo.array=r,a.tableData=JSON.parse(n()(r)),0==a.tableData.length?a.haverecord=!1:a.haverecord=!0,a.$set(a.totalSize,0,a.tableData.length)}else if("2"==t){console.log(444444);var s=JSON.parse(e).monthEarningsInfo;a.profit_data.subUserEarningsListInfo.array=s,a.tableData=JSON.parse(n()(s)),0==a.tableData.length?a.haverecord=!1:a.haverecord=!0}else if("3"==t){var i=JSON.parse(e).allEarningsInfo;a.tableData=JSON.parse(n()(i)),a.getprofitdata()}},function(t){a.$message.warning(a.$t("m.key"))}),a.recordtype||this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportPayInfo",this.profit_params,function(e){if("1"==t){var r=JSON.parse(e).weekEarningsInfo;console.log(r,"InfoDataInfoDataInfoDataInfoData"),a.profit_data.subUserPayListInfo.array=r,a.tableData=JSON.parse(n()(r)),0==a.tableData.length?a.haverecord=!1:a.haverecord=!0}else if("2"==t){var s=JSON.parse(e).MonthEarningsInfo;a.profit_data.subUserPayListInfo.array=s,a.tableData=JSON.parse(n()(s)),0==a.tableData.length?a.haverecord=!1:a.haverecord=!0}else if("3"==t){var i=JSON.parse(e).AllEarningsInfo;a.tableData=JSON.parse(n()(i)),a.getprofitdata()}},function(t){a.$message.warning(a.$t("m.key"))})}),i()(r,"formatJson",function(t,a){return a.map(function(a){return t.map(function(t){return a[t]})})}),r),beforeDestroy:function(){this.recorddata=[],this.profit_data=[],this.profit_topdata=[],this.tableData="",this.list=[]}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"myMill"},[t.noson_type?t._e():e("div",{staticClass:"mymills"},[e("div",{staticClass:"mylcted_top flex_a"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"flex_a"},t._l(t.profit_top,function(a,r){return e("div",{key:r,staticClass:"flex_C mylcted_top_main"},[e("span",{staticClass:"mylcted_top_item"},[t._v(t._s(a))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==r,expression:"index==0"}],staticClass:"mylcted_top_item font_b"},[e("span",[t._v(t._s(t.format(Number(t.profit_data.needPayAndPayHistory.waitPay),8)||0)+"WTC")]),t._v(" "),e("div",{staticClass:"profit_tips"},[t._v(t._s(t.$t("m.account.key6")))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1==r,expression:"index==1"}],staticClass:"mylcted_top_item font_b"},[e("span",[t._v(t._s(t.format(Number(t.profit_data.needPayAndPayHistory.paidTotal),8)||0)+"WTC")]),t._v(" "),e("div",{staticClass:"profit_tips"},[t._v(t._s(t.$t("m.account.key7")))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2==r,expression:"index==2"}],staticClass:"mylcted_top_item font_b"},[e("span",[t._v(t._s(t.format(Number(t.profit_data.todayEarningsAndAllEarnings.todatEarnings),8)||0)+"WTC")]),t._v(" "),e("div",{staticClass:"profit_tips"},[t._v(t._s(t.$t("m.account.key8")))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:3==r,expression:"index==3"}],staticClass:"mylcted_top_item font_b"},[e("span",[t._v(" "+t._s(t.format(Number(t.profit_data.todayEarningsAndAllEarnings.allEarnings),8)||0)+"WTC")]),t._v(" "),e("div",{staticClass:"profit_tips"},[t._v(t._s(t.$t("m.account.key9")))])])])}),0)])]),t._v(" "),e("div",{staticClass:"content_box"},[e("div",{staticClass:"mymill_bottom"},[e("div",{staticClass:"record flex_b"},[e("div",{staticClass:"record_l flex_f"},[e("div",{staticClass:"record_item",class:t.recordtype?"record_item_active":"",on:{click:function(a){return t.change_record(!0)}}},[t._v(t._s(t.$t("m.myprofit.key5")))]),t._v(" "),e("div",{staticClass:"record_item",class:t.recordtype?"":"record_item_active",on:{click:function(a){return t.change_record(!1)}}},[t._v(t._s(t.$t("m.myprofit.key6")))])]),t._v(" "),e("div",{staticClass:"record_r flex_f"},[e("div",{staticClass:"record_r_item"},[e("el-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[e("span",{staticClass:"el-dropdown-link"},[e("span",{staticClass:"flex_b all"},[e("span",[t._v(t._s(t.derive_top))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),t._v(" "),e("el-dropdown-menu",{staticClass:"myprofit_head",attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(1)}}},[t._v(t._s(t.$t("m.myprofit.key21")))])]),t._v(" "),e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(2)}}},[t._v(t._s(t.$t("m.myprofit.key22")))])]),t._v(" "),e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(3)}}},[t._v(t._s(t.$t("m.myprofit.key17")))])])],1)],1)],1),t._v(" "),e("div",{staticClass:"record_r_item export",on:{click:function(a){return t.exportExcel()}}},[t._v(t._s(t.export_name))])])]),t._v(" "),e("div",{staticClass:"have_record"},[t.recordtype?e("div",{staticClass:"record_main"},[e("div",[e("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return e("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0)]),t._v(" "),t.haverecord?e("div",t._l(t.profit_data.subUserEarningsListInfo.array,function(a,r){return e("ul",{key:r,staticClass:"flex_b record_main_item"},[e("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserEarningsListInfo.array[r].date))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserEarningsListInfo.array[r].earningsMoney,8)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.changpow(t.profit_data.subUserEarningsListInfo.array[r].dayHr,2))+"H/s")]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(2==t.profit_data.subUserEarningsListInfo.array[r].rewardType?"solo":"pplns"))]),t._v(" "),e("li",{staticClass:"record_main_li",class:t.profit_data.subUserEarningsListInfo.array[r].status>0?"color_3":"color_4"},[t._v(t._s(t.profit_data.subUserEarningsListInfo.array[r].status>0?t.$t("m.account.key12"):t.$t("m.account.key11")))])])}),0):t._e()]):t._e(),t._v(" "),t.recordtype?t._e():e("div",{staticClass:"record_main"},[e("div",[e("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return e("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0)]),t._v(" "),t.haverecord?e("div",t._l(t.profit_data.subUserPayListInfo.array,function(a,r){return e("ul",{key:r,staticClass:"flex_b record_main_item"},[e("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserPayListInfo.array[r].payTime))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserPayListInfo.array[r].settleTime))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserPayListInfo.array[r].payMoney,8))+t._s(2==t.profit_data.subUserPayListInfo.array[r].payType?"（ERC20）":""))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[r].toAddress)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[r].hash)))])])}),0):t._e()]),t._v(" "),0==t.profit_params.type||3==t.profit_params.type?e("div",{staticClass:"record_page"},[t.haverecord?e("div",[e("el-pagination",{attrs:{"current-page":t.profit_params.page,"page-sizes":[10,20,30],"page-size":100,layout:"total,sizes, prev, pager, next, jumper",total:t.totalSize[0]},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){return t.$set(t.profit_params,"page",a)},"update:current-page":function(a){return t.$set(t.profit_params,"page",a)}}})],1):t._e()]):t._e()]),t._v(" "),t.haverecord?t._e():e("div",{staticClass:"nprecord"},[t._v(t._s(t.$t("m.wallet.key39")))])])])]),t._v(" "),t.noson_type?e("noson"):t._e()],1)},staticRenderFns:[]};var _=e("VU/8")(l,d,!1,function(t){e("+JEo")},"data-v-536f1dd1",null);a.default=_.exports}});
//# sourceMappingURL=11.71050df97dbe68e5d33e.js.map