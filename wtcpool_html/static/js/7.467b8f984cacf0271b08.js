webpackJsonp([7],{kN1R:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={components:{noson:e("RuO0").default},data:function(){return{recordtype:!0,recorddata:[],totalSize:0,export_name:"",haverecord:!1,profit_params:{username:localStorage.getItem("username"),token:localStorage.getItem("token"),subusername:localStorage.getItem("subusername"),type:3},profit_type:!0,profit_data:{code:200,accountInfo:{needPayAndPayHistory:{waitPay:0,paidTotal:0},todayEarningsAndAllEarnings:{todatEarnings:0,allEarnings:0},subUserPayListInfo:{array:[{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"},{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"}],total:3,totalPage:1},subUserEarningsListInfo:{array:[{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"0",rewardType:1,status:1},{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"",rewardType:1,status:1}],total:4,totalPage:1}}},profit_top:[this.$t("m.myprofit.key1"),this.$t("m.myprofit.key2"),this.$t("m.myprofit.key3"),this.$t("m.myprofit.key4")],derive_item:[this.$t("m.myprofit.key17"),this.$t("m.myprofit.key21"),this.$t("m.myprofit.key22"),this.$t("m.myprofit.key17")],derive_top:this.$t("m.myprofit.key1"),tableData:"",noson_type:!1}},created:function(){localStorage.getItem("subnameList")<1&&(this.noson_type=!0),this.change_record(!0),this.getprofitdata(),this.timeprofitdata(3),console.log(this.profit_data)},methods:{change_record:function(t){t?(this.recordtype=!0,this.export_name=this.$t("m.myprofit.key18"),this.recorddata=[this.$t("m.myprofit.key7"),this.$t("m.myprofit.key8"),this.$t("m.myprofit.key9"),this.$t("m.myprofit.key10"),this.$t("m.myprofit.key11")]):t||(this.recordtype=!1,this.export_name=this.$t("m.myprofit.key19"),this.recorddata=[this.$t("m.myprofit.key12"),this.$t("m.myprofit.key13"),this.$t("m.myprofit.key14"),this.$t("m.myprofit.key15"),this.$t("m.myprofit.key16")])},handleSizeChange:function(){},handleCurrentChange:function(){},exportExcel:function(){var t=this,a=this;new Promise(function(t){t()}).then(function(){var r=e("zWO4").export_json_to_excel,s=t.recorddata,i="",o="";a.recordtype?(i=["date","earningsMoney","dayHr","rewardType","status"],o=a.profit_data.subUserEarningsListInfo.array):a.recordtype||(i=["paytime","paytime","payMoney","toAddress","hash"],o=a.profit_data.subUserPayListInfo.array),r(s,t.formatJson(i,o),"this_excel")}.bind(null,e)).catch(e.oe)},getprofitdata:function(){console.log(this.profit_params),this.$ajax("post",this.GLOBAL.baseUrl+"v2/earningsAndPayment",this.profit_params,function(t){console.log(t,"profit111"),_that.profit_data=t,_that.wokerAlldata=JSON.parse(res).minerPow},function(t){})},timeprofitdata:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.profit_params.type=t,this.derive_top=this.derive_item[t],console.log(t);var a=this;if(a.recordtype){console.log(a.tableData),this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportEarningsInfo",this.profit_params,function(t){console.log(t,"时间选择导出类型111"),a.wokerAlldata=JSON.parse(t).minerPow,a.tableData=t.allEarningsInfo},function(t){})}if(!a.recordtype){this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportPayInfo",this.profit_params,function(t){a.wokerAlldata=JSON.parse(t).minerPow,a.tableData=t.allEarningsInfo},function(t){})}},formatJson:function(t,a){return a.map(function(a){return t.map(function(t){return a[t]})})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"myMill"},[t.noson_type?t._e():e("div",{staticClass:"mymills"},[e("div",{staticClass:"mylcted_top flex_a"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"flex_a"},t._l(t.profit_top,function(a,r){return e("div",{key:r,staticClass:"flex_C mylcted_top_main"},[e("span",{staticClass:"mylcted_top_item"},[t._v(t._s(a))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:0==r,expression:"index==0"}],staticClass:"mylcted_top_item font_b"},[t._v(t._s(t.format(Number(t.profit_data.accountInfo.todayEarningsAndAllEarnings.todatEarnings),8)||0)+"WTC")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:1==r,expression:"index==1"}],staticClass:"mylcted_top_item font_b"},[t._v(t._s(t.format(Number(t.profit_data.accountInfo.todayEarningsAndAllEarnings.allEarnings),8)||0)+"WTC")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:2==r,expression:"index==2"}],staticClass:"mylcted_top_item font_b"},[t._v(t._s(t.format(Number(t.profit_data.accountInfo.needPayAndPayHistory.waitPay),8)||0)+"WTC")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:3==r,expression:"index==3"}],staticClass:"mylcted_top_item font_b"},[t._v(t._s(t.format(Number(t.profit_data.accountInfo.needPayAndPayHistory.paidTotal),8)||0)+"WTC")])])}),0)])]),t._v(" "),e("div",{staticClass:"content_box"},[e("div",{staticClass:"mymill_bottom"},[e("div",{staticClass:"record flex_b"},[e("div",{staticClass:"record_l flex_f"},[e("div",{staticClass:"record_item",class:t.recordtype?"record_item_active":"",on:{click:function(a){return t.change_record(!0)}}},[t._v(" "+t._s(t.$t("m.myprofit.key5")))]),t._v(" "),e("div",{staticClass:"record_item",class:t.recordtype?"":"record_item_active",on:{click:function(a){return t.change_record(!1)}}},[t._v(t._s(t.$t("m.myprofit.key6")))])]),t._v(" "),e("div",{staticClass:"record_r flex_f"},[e("div",{staticClass:"record_r_item"},[e("el-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[e("span",{staticClass:"el-dropdown-link"},[e("span",{staticClass:"flex_b all"},[e("span",[t._v(t._s(t.derive_top))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),t._v(" "),e("el-dropdown-menu",{staticClass:"myprofit_head",attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(1)}}},[t._v(t._s(t.$t("m.myprofit.key21")))])]),t._v(" "),e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(2)}}},[t._v(t._s(t.$t("m.myprofit.key22")))])]),t._v(" "),e("el-dropdown-item",[e("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(3)}}},[t._v(t._s(t.$t("m.myprofit.key17")))])])],1)],1)],1),t._v(" "),e("div",{staticClass:"record_r_item export",on:{click:function(a){return t.exportExcel()}}},[t._v("\n                                "+t._s(t.export_name)+"\n                            ")])])]),t._v(" "),t.haverecord?e("div",{staticClass:"have_record"},[t.recordtype?e("div",{staticClass:"record_main"},[e("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return e("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0),t._v(" "),t._l(t.profit_data.subUserEarningsListInfo.array,function(a,r){return e("ul",{key:r,staticClass:"flex_b record_main_item"},[e("li",{staticClass:"record_main_li"},[t._v(t._s(t.Formatdate(t.profit_data.subUserEarningsListInfo.array[r].date,"yyyy-MM-dd")))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserEarningsListInfo.array[r].earningsMoney,8)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserEarningsListInfo.array[r].dayHr,2)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(2==t.profit_data.subUserEarningsListInfo.array[r].rewardType?"挖块":"pplns"))]),t._v(" "),e("li",{staticClass:"record_main_li",class:t.profit_data.subUserEarningsListInfo.array[r].status>0?"color_3":"color_4"},[t._v(t._s(t.profit_data.subUserEarningsListInfo.array[r].status>0?"已支付":"未支付"))])])})],2):t._e(),t._v(" "),t.recordtype?t._e():e("div",{staticClass:"record_main"},[e("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return e("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0),t._v(" "),t._l(t.profit_data.subUserPayListInfo.array,function(a,r){return e("ul",{key:r,staticClass:"flex_b record_main_item"},[e("li",{staticClass:"record_main_li"},[t._v(t._s(t.Formatdate(t.profit_data.subUserPayListInfo.array[r].paytime,"yyyy-MM-dd")))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.Formatdate(Number(t.profit_data.subUserPayListInfo.array[r].paytime)-86400,"yyyy-MM-dd")))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserPayListInfo.array[r].payMoney,8)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[r].toAddress)))]),t._v(" "),e("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[r].hash)))])])})],2),t._v(" "),e("div",{staticClass:"record_page"},[e("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,50],"page-size":100,layout:"sizes, prev, pager, next, jumper",total:t.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):e("div",{staticClass:"nprecord"},[t._v("\n                        "+t._s(t.$t("m.wallet.key39"))+"\n                    ")])])])]),t._v(" "),t.noson_type?e("noson"):t._e()],1)},staticRenderFns:[]};var i=e("VU/8")(r,s,!1,function(t){e("uvNm")},"data-v-0903db58",null);a.default=i.exports},uvNm:function(t,a){}});
//# sourceMappingURL=7.467b8f984cacf0271b08.js.map