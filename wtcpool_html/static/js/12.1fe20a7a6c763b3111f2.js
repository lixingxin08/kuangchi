webpackJsonp([12],{kN1R:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e,r=s("bOdI"),i=s.n(r),o=s("mvHQ"),n=s.n(o),l={components:{noson:s("RuO0").default},data:function(){return{recordtype:!0,recorddata:[],totalSize:[0],export_name:"",haverecord:!0,profit_params:{username:localStorage.getItem("username"),token:localStorage.getItem("token"),subusername:localStorage.getItem("subusername"),type:3,page:1,pageSize:10},profit_type:!0,profit_data:{needPayAndPayHistory:{waitPay:0,paidTotal:0},todayEarningsAndAllEarnings:{todatEarnings:0,allEarnings:0},subUserPayListInfo:{array:[{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"},{paytime:0,payType:0,payMoney:0,toAddress:"0",hash:"0"}],total:3,totalPage:1},subUserEarningsListInfo:{array:[{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"0",rewardType:1,status:1},{date:0,waitpay:0,paidTotal:0,earningsMoney:"0",dayHr:"",rewardType:1,status:1}],total:4,totalPage:1}},profit_topdata:"",profit_top:[this.$t("m.myprofit.key3"),this.$t("m.myprofit.key4"),this.$t("m.myprofit.key1"),this.$t("m.myprofit.key2")],derive_item:[this.$t("m.myprofit.key17"),this.$t("m.myprofit.key21"),this.$t("m.myprofit.key22"),this.$t("m.myprofit.key17")],derive_top:this.$t("m.myprofit.key1"),tableData:"",noson_type:!1,list:[]}},created:function(){this.recorddata=[],this.profit_data=[],this.profit_topdata=[],this.tableData="",this.list=[],null==localStorage.getItem("subnameList")||localStorage.getItem("subnameList")<1?this.$router.push({name:"unsub"}):(this.change_record(!0),this.getprofitdata())},methods:(e={change_record:function(t){t?(this.recordtype=!0,this.export_name=this.$t("m.myprofit.key18"),this.recorddata=[this.$t("m.myprofit.key7"),this.$t("m.myprofit.key8"),this.$t("m.myprofit.key9"),this.$t("m.myprofit.key10"),this.$t("m.myprofit.key11")]):t||(this.recordtype=!1,this.export_name=this.$t("m.myprofit.key19"),this.recorddata=[this.$t("m.myprofit.key12"),this.$t("m.myprofit.key13"),this.$t("m.myprofit.key14"),this.$t("m.myprofit.key15"),this.$t("m.myprofit.key16")])},handleSizeChange:function(){},handleCurrentChange:function(){},getprofitdata:function(){var t=this;console.log(this.profit_params),this.$ajax("post",this.GLOBAL.baseUrl+"v2/earningsAndPayment",this.profit_params,function(a){console.log(a,"profit111"),t.profit_data=JSON.parse(a).accountInfo,0==t.profit_data.subUserEarningsListInfo.array.length&&0==t.profit_data.subUserPayListInfo.array.length&&(t.haverecord=!1),console.log(t.profit_data.subUserPayListInfo.array,"profit1222222221")},function(a){alert("网络出现一点点问题，请稍后再试"),t.$router.push({name:"home"})})},exportExcel:function(){var t=this,a=this;new Promise(function(t){t()}).then(function(){var e=s("zWO4").export_json_to_excel,r=t.recorddata,i=[],o=[];if(console.log(r,i,o,"8888888888"),a.recordtype){i=["date","earningsMoney","dayHr","rewardType","status"],o=JSON.parse(n()(a.profit_data.subUserEarningsListInfo.array));for(var l=0;l<o.length;l++)o[l].rewardType=2==o[l].rewardType?"挖块":"pplns",o[l].status=o[l].status>0?"已支付":"未支付",o[l].dayHr=a.changpow(o[l].dayHr,2)+"H/s"}else if(!a.recordtype){console.log(a.profit_data.subUserPayListInfo.array,"33444444"),i=["payTime","settleTime","payMoney","toAddress","hash"],t.$set(a.list,0,a.profit_data.subUserPayListInfo.array),console.log(a.list,"lisst12222222222"),o=JSON.parse(n()(a.profit_data.subUserPayListInfo.array)),console.log(o);for(l=0;l<o.length;l++);console.log(o,"list15555555",i)}e(r,a.formatJson(i,o),"this_excel")}.bind(null,s)).catch(s.oe)}},i()(e,"handleSizeChange",function(t){this.profit_params.pageSize=t,this.getprofitdata()}),i()(e,"handleCurrentChange",function(t){this.profit_params.page=t,this.getprofitdata()}),i()(e,"timeprofitdata",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,a=this;this.profit_params.type=t,this.derive_top=this.derive_item[t],console.log(t),a.recordtype&&(console.log(a.tableData),this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportEarningsInfo",this.profit_params,function(t){a.tableData=JSON.parse(t).allEarningsInfo},function(t){alert("网络出现一点点问题，请稍后再试")})),a.recordtype||this.$ajax("post",this.GLOBAL.baseUrl+"v2/exportPayInfo",this.profit_params,function(t){console.log(t,"时间选择导出类型1113333"),a.tableData=JSON.parse(t).allEarningsInfo},function(t){alert("网络出现一点点问题，请稍后再试")})}),i()(e,"formatJson",function(t,a){return a.map(function(a){return t.map(function(t){return a[t]})})}),e),beforeDestroy:function(){this.recorddata=[],this.profit_data=[],this.profit_topdata=[],this.tableData="",this.list=[]}},_={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"myMill"},[t.noson_type?t._e():s("div",{staticClass:"mymills"},[s("div",{staticClass:"mylcted_top flex_a"},[s("div",{staticClass:"content_box"},[s("div",{staticClass:"flex_a"},t._l(t.profit_top,function(a,e){return s("div",{key:e,staticClass:"flex_C mylcted_top_main"},[s("span",{staticClass:"mylcted_top_item"},[t._v(t._s(a))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e,expression:"index==0"}],staticClass:"mylcted_top_item font_b"},[t._v("\n              "+t._s(t.format(Number(t.profit_data.needPayAndPayHistory.waitPay),8)||0)+"WTC\n              "),s("div",{staticClass:"profit_tips"},[t._v("还没有支付给矿工的WTC")])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"index==1"}],staticClass:"mylcted_top_item font_b"},[t._v("\n              "+t._s(t.format(Number(t.profit_data.needPayAndPayHistory.paidTotal),8)||0)+"WTC\n              "),s("div",{staticClass:"profit_tips"},[t._v("总共已经支付给矿工的WTC")])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==e,expression:"index==2"}],staticClass:"mylcted_top_item font_b"},[t._v("\n              "+t._s(t.format(Number(t.profit_data.todayEarningsAndAllEarnings.todatEarnings),8)||0)+"WTC\n              "),s("div",{staticClass:"profit_tips"},[t._v("指今天挖矿的WTC总收益")])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:3==e,expression:"index==3"}],staticClass:"mylcted_top_item font_b"},[t._v("\n              "+t._s(t.format(Number(t.profit_data.todayEarningsAndAllEarnings.allEarnings),8)||0)+"WTC\n              "),s("div",{staticClass:"profit_tips"},[t._v("今日收益+待支付+总支付")])])])}),0)])]),t._v(" "),s("div",{staticClass:"content_box"},[s("div",{staticClass:"mymill_bottom"},[s("div",{staticClass:"record flex_b"},[s("div",{staticClass:"record_l flex_f"},[s("div",{staticClass:"record_item",class:t.recordtype?"record_item_active":"",on:{click:function(a){return t.change_record(!0)}}},[t._v(t._s(t.$t("m.myprofit.key5")))]),t._v(" "),s("div",{staticClass:"record_item",class:t.recordtype?"":"record_item_active",on:{click:function(a){return t.change_record(!1)}}},[t._v(t._s(t.$t("m.myprofit.key6")))])]),t._v(" "),s("div",{staticClass:"record_r flex_f"},[s("div",{staticClass:"record_r_item"},[s("el-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[s("span",{staticClass:"el-dropdown-link"},[s("span",{staticClass:"flex_b all"},[s("span",[t._v(t._s(t.derive_top))]),t._v(" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),t._v(" "),s("el-dropdown-menu",{staticClass:"myprofit_head",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(1)}}},[t._v(t._s(t.$t("m.myprofit.key21")))])]),t._v(" "),s("el-dropdown-item",[s("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(2)}}},[t._v(t._s(t.$t("m.myprofit.key22")))])]),t._v(" "),s("el-dropdown-item",[s("div",{staticClass:"myprofit_slide",on:{click:function(a){return t.timeprofitdata(3)}}},[t._v(t._s(t.$t("m.myprofit.key17")))])])],1)],1)],1),t._v(" "),s("div",{staticClass:"record_r_item export",on:{click:function(a){return t.exportExcel()}}},[t._v(t._s(t.export_name))])])]),t._v(" "),t.haverecord?s("div",{staticClass:"have_record"},[t.recordtype?s("div",{staticClass:"record_main"},[s("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return s("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0),t._v(" "),t._l(t.profit_data.subUserEarningsListInfo.array,function(a,e){return s("ul",{key:e,staticClass:"flex_b record_main_item"},[s("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserEarningsListInfo.array[e].date))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserEarningsListInfo.array[e].earningsMoney,8)))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.changpow(t.profit_data.subUserEarningsListInfo.array[e].dayHr,2))+"H/s")]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(2==t.profit_data.subUserEarningsListInfo.array[e].rewardType?"挖块":"pplns"))]),t._v(" "),s("li",{staticClass:"record_main_li",class:t.profit_data.subUserEarningsListInfo.array[e].status>0?"color_3":"color_4"},[t._v(t._s(t.profit_data.subUserEarningsListInfo.array[e].status>0?"已支付":"未支付"))])])})],2):t._e(),t._v(" "),t.recordtype?t._e():s("div",{staticClass:"record_main"},[s("ul",{staticClass:"flex_b record_main_item record_head"},t._l(t.recorddata,function(a){return s("li",{key:a,staticClass:"record_main_li"},[t._v(t._s(a))])}),0),t._v(" "),t._l(t.profit_data.subUserPayListInfo.array,function(a,e){return s("ul",{key:e,staticClass:"flex_b record_main_item"},[s("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserPayListInfo.array[e].paytime))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.profit_data.subUserPayListInfo.array[e].paytime))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.format(t.profit_data.subUserPayListInfo.array[e].payMoney,8))+t._s(2==t.profit_data.subUserPayListInfo.array[e].payType?"（ERC20）":""))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[e].toAddress)))]),t._v(" "),s("li",{staticClass:"record_main_li"},[t._v(t._s(t.filterFun(t.profit_data.subUserPayListInfo.array[e].hash)))])])})],2),t._v(" "),s("div",{staticClass:"record_page"},[s("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30],"page-size":100,layout:"sizes, prev, pager, next, jumper",total:t.totalSize[0]},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):t._e(),t._v(" "),t.haverecord?t._e():s("div",{staticClass:"nprecord"},[t._v(t._s(t.$t("m.wallet.key39")))])])])]),t._v(" "),t.noson_type?s("noson"):t._e()],1)},staticRenderFns:[]};var d=s("VU/8")(l,_,!1,function(t){s("t/Sk")},"data-v-ad23db8c",null);a.default=d.exports},"t/Sk":function(t,a){}});
//# sourceMappingURL=12.1fe20a7a6c763b3111f2.js.map